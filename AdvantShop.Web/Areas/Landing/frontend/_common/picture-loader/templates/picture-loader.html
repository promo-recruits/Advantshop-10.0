<div ng-switch="pictureLoader.isShowCropper === true">
    <div ng-switch-when="false">
        <div class="picture-loader__row">
            <a href=""
               class="picture-loader-link picture-loader-link--default"
               data-e2e="LoadPicture"
               accept="image/*"
               ngf-pattern="'image/*'"
               ngf-accept="'image/*'"
               ngf-max-size="'10MB'"
               ngf-select=""
               ngf-change="pictureLoader.uploadFile($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)">
                <div class="picture-loader__icon">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" height="18" width="18px" viewBox="0 0 490 490">
                        <polygon fill="#2d9ced" points="260.313,109.424 229.688,109.424 229.688,213.283 182.774,213.283 245,296.902 307.226,213.283 260.313,213.283" />
                        <path fill="#2d9ced" d="M22.969,362.717h183.75v52.951h-69.863v30.625h216.289v-30.625h-69.863v-52.951h183.75
		                c12.633,0,22.969-10.336,22.969-22.969V66.676c0-12.633-10.336-22.969-22.969-22.969H22.969C10.336,43.707,0,54.043,0,66.676
		                v273.073C0,352.381,10.336,362.717,22.969,362.717z M30.625,74.332h428.75v257.76H30.625V74.332z" />
                    </svg>
                </div>
                Загрузить изображение с компьютера
            </a>
        </div>
        <div class="picture-loader__row">
            <a href="" class="picture-loader-link picture-loader-link--default" data-e2e="uploadByUrl" ng-click="pictureLoader.showUploadByUrl = true">
                <div class="picture-loader__icon">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" height="18" width="18px" viewBox="0 0 54.971 54.971">
                        <path fill="#2d9ced" d="M51.173,3.801c-5.068-5.068-13.315-5.066-18.384,0l-9.192,9.192c-0.781,0.781-0.781,2.047,0,2.828
		                    c0.781,0.781,2.047,0.781,2.828,0l9.192-9.192c1.691-1.69,3.951-2.622,6.363-2.622c2.413,0,4.673,0.932,6.364,2.623
		                    s2.623,3.951,2.623,6.364c0,2.412-0.932,4.672-2.623,6.363L36.325,31.379c-3.51,3.508-9.219,3.508-12.729,0
		                    c-0.781-0.781-2.047-0.781-2.828,0s-0.781,2.048,0,2.828c2.534,2.534,5.863,3.801,9.192,3.801s6.658-1.267,9.192-3.801
		                    l12.021-12.021c2.447-2.446,3.795-5.711,3.795-9.192C54.968,9.512,53.62,6.248,51.173,3.801z" />
                        <path fill="#2d9ced" d="M27.132,40.57l-7.778,7.778c-1.691,1.691-3.951,2.623-6.364,2.623c-2.412,0-4.673-0.932-6.364-2.623
		                    c-3.509-3.509-3.509-9.219,0-12.728L17.94,24.306c1.691-1.69,3.951-2.622,6.364-2.622c2.412,0,4.672,0.932,6.363,2.622
		                    c0.781,0.781,2.047,0.781,2.828,0s0.781-2.047,0-2.828c-5.067-5.067-13.314-5.068-18.384,0L3.797,32.793
		                    c-2.446,2.446-3.794,5.711-3.794,9.192c0,3.48,1.348,6.745,3.795,9.191c2.446,2.447,5.711,3.795,9.191,3.795
		                    c3.481,0,6.746-1.348,9.192-3.795l7.778-7.778c0.781-0.781,0.781-2.047,0-2.828S27.913,39.789,27.132,40.57z" />
                    </svg>
                </div>
                Загрузить по ссылке
            </a>
            <div ng-if="pictureLoader.showUploadByUrl" class="picture-loader__form--by-url">
                <input type="text" required class="blocks-constructor-input picture-loader__form-input--by-url" data-e2e="UrlUpload" placeholder="URL изображения" ng-model="pictureLoader.url" />
                <div class="picture-loader__form-button--by-url">
                    <button class="blocks-constructor-btn-confirm" data-e2e="uploadUrlBtn" type="button" ng-click="pictureLoader.uploadByUrl(pictureLoader.url)">Загрузить</button>
                </div>
            </div>
        </div>
        <div class="picture-loader__row">
            <a href="" class="picture-loader-link picture-loader-link--default" data-e2e="GalleryCloud" ng-click="pictureLoader.showGalleryCloud()">
                <div class="picture-loader__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512" width="18px" height="18px">
                        <path fill="#2d9ced" d="M494.933,38.4h-409.6c-9.412,0-17.067,7.654-17.067,17.067v17.067H51.2c-9.412,0-17.067,7.654-17.067,17.067v17.067    H17.067C7.654,106.667,0,114.321,0,123.733v332.8c0,9.412,7.654,17.067,17.067,17.067h409.6c9.412,0,17.067-7.654,17.067-17.067    v-17.067H460.8c9.412,0,17.067-7.654,17.067-17.067v-17.067h17.067c9.412,0,17.067-7.654,17.067-17.067v-332.8    C512,46.054,504.346,38.4,494.933,38.4z M17.067,123.733h409.6l0.009,190.635l-44.783-51.183c-3.251-3.721-9.6-3.721-12.851,0    l-54.067,61.79L167.799,194.159c-3.234-2.884-8.098-2.884-11.332,0L17.067,318.071V123.733z M426.684,431.01v25.523H17.067V340.89    l145.067-128.947l147.934,131.49c1.69,1.51,3.942,2.193,6.204,2.142c2.278-0.145,4.395-1.186,5.888-2.901l53.308-60.911    l51.209,58.53l0.008,90.573c0,0.017-0.017,0.043-0.017,0.068S426.684,430.985,426.684,431.01z M460.8,422.4h-17.067V123.733    c0-9.412-7.654-17.067-17.067-17.067H51.2V89.6h409.6V422.4z M494.933,388.267h-17.067V89.6c0-9.412-7.654-17.067-17.067-17.067    H85.333V55.467h409.6V388.267z" fill="#006DF0" />
                        <path fill="#2d9ced" d="M307.2,174.933c-18.825,0-34.133,15.309-34.133,34.133S288.375,243.2,307.2,243.2s34.133-15.309,34.133-34.133    S326.025,174.933,307.2,174.933z M307.2,226.133c-9.412,0-17.067-7.654-17.067-17.067c0-9.412,7.654-17.067,17.067-17.067    s17.067,7.654,17.067,17.067C324.267,218.479,316.612,226.133,307.2,226.133z" fill="#006DF0" />
                    </svg>
                </div>
                Загрузить изображение из галереи
            </a>
        </div>
        <div class="picture-loader__row" ng-if="pictureLoader.galleryIconsEnabled">
            <a href="" class="picture-loader-link picture-loader-link--default" data-e2e="galleryIcons" ng-click="pictureLoader.showGalleryIcons()">
                <div class="picture-loader__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512" width="18px" height="18px">
                        <path fill="#2d9ced" d="M494.933,38.4h-409.6c-9.412,0-17.067,7.654-17.067,17.067v17.067H51.2c-9.412,0-17.067,7.654-17.067,17.067v17.067    H17.067C7.654,106.667,0,114.321,0,123.733v332.8c0,9.412,7.654,17.067,17.067,17.067h409.6c9.412,0,17.067-7.654,17.067-17.067    v-17.067H460.8c9.412,0,17.067-7.654,17.067-17.067v-17.067h17.067c9.412,0,17.067-7.654,17.067-17.067v-332.8    C512,46.054,504.346,38.4,494.933,38.4z M17.067,123.733h409.6l0.009,190.635l-44.783-51.183c-3.251-3.721-9.6-3.721-12.851,0    l-54.067,61.79L167.799,194.159c-3.234-2.884-8.098-2.884-11.332,0L17.067,318.071V123.733z M426.684,431.01v25.523H17.067V340.89    l145.067-128.947l147.934,131.49c1.69,1.51,3.942,2.193,6.204,2.142c2.278-0.145,4.395-1.186,5.888-2.901l53.308-60.911    l51.209,58.53l0.008,90.573c0,0.017-0.017,0.043-0.017,0.068S426.684,430.985,426.684,431.01z M460.8,422.4h-17.067V123.733    c0-9.412-7.654-17.067-17.067-17.067H51.2V89.6h409.6V422.4z M494.933,388.267h-17.067V89.6c0-9.412-7.654-17.067-17.067-17.067    H85.333V55.467h409.6V388.267z" fill="#006DF0" />
                        <path fill="#2d9ced" d="M307.2,174.933c-18.825,0-34.133,15.309-34.133,34.133S288.375,243.2,307.2,243.2s34.133-15.309,34.133-34.133    S326.025,174.933,307.2,174.933z M307.2,226.133c-9.412,0-17.067-7.654-17.067-17.067c0-9.412,7.654-17.067,17.067-17.067    s17.067,7.654,17.067,17.067C324.267,218.479,316.612,226.133,307.2,226.133z" fill="#006DF0" />
                    </svg>
                </div>
                <span>
                    Загрузить иконку из галереи
                </span>
            </a>
        </div>
        <div class="picture-loader__row">
            <label class="blocks-constructor-label picture-loader-link picture-loader-link--default" data-e2e="lazyLoadEnabled">
                <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="pictureLoader.lazyLoadEnabled" ng-change="pictureLoader.lazyLoadChange(pictureLoader.lazyLoadEnabled)">
                <span class="blocks-constructor-checkbox blocks-constructor-checkbox--small picture-loader__icon"></span>
                Включить отложенную загрузку
            </label>
        </div>
        <div class="picture-loader__row" ng-if="pictureLoader.current != null && pictureLoader.current !== pictureLoader.noPhoto && pictureLoader.deletePicture">
            <a href="" class="picture-loader-link picture-loader-link--danger" data-e2e="deletePicture" ng-click="pictureLoader.delete()">
                <div class="picture-loader__icon">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" height="18" width="18px" viewBox="0 0 512 512">
                        <path fill="currentColor" d="M425.298,51.358h-91.455V16.696c0-9.22-7.475-16.696-16.696-16.696H194.855c-9.22,0-16.696,7.475-16.696,16.696v34.662
			                H86.704c-9.22,0-16.696,7.475-16.696,16.696v51.357c0,9.22,7.475,16.696,16.696,16.696h5.072l15.26,359.906
			                c0.378,8.937,7.735,15.988,16.68,15.988h264.568c8.946,0,16.302-7.051,16.68-15.989l15.259-359.906h5.073
			                c9.22,0,16.696-7.475,16.696-16.696V68.054C441.994,58.832,434.519,51.358,425.298,51.358z M211.551,33.391h88.9v17.967h-88.9
			                V33.391z M372.283,478.609H139.719l-14.522-342.502h261.606L372.283,478.609z M408.602,102.715c-15.17,0-296.114,0-305.202,0
			                V84.749h305.202V102.715z" />
                        <path fill="currentColor" d="M188.835,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696
			                    c9.22,0,16.696-7.475,16.696-16.696V204C205.53,194.779,198.055,187.304,188.835,187.304z" />
                        <path fill="currentColor" d="M255.998,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.474,16.696,16.696,16.696
			                c9.22,0,16.696-7.475,16.696-16.696V204C272.693,194.779,265.218,187.304,255.998,187.304z" />
                        <path fill="currentColor" d="M323.161,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696
			                s16.696-7.475,16.696-16.696V204C339.857,194.779,332.382,187.304,323.161,187.304z" />
                    </svg>
                </div>
                Удалить изображение
            </a>
        </div>
    </div>

    <div ng-switch-when="true">
        <div class="m-t m-b" ng-if="pictureLoader.dataUrlPicture != null">
            <div>
                <div>
                    <h4>{{'Admin.Js.AddAvatar.Image'|translate}}</h4>
                    <img id="cropImg"
                         alt=""
                         ng-src="{{pictureLoader.dataUrlPicture}}"
                         ng-cropper
                         ng-cropper-proxy="pictureLoader.cropperProxy"
                         ng-cropper-show="pictureLoader.showEvent"
                         ng-cropper-hide="pictureLoader.hideEvent"
                         ng-cropper-options="pictureLoader.cropperOptions" />
                </div>
                <!--<div class="col-xs-3">
                    <h4>{{'Admin.Js.AddAvatar.Preview'|translate}}</h4>
                    <div class="preview-container" style="height: 100px; width:100px; overflow: hidden;"></div>
                    <b>Размеры:</b> <span ng-bind="pictureLoader.widthPicture"></span> x <span ng-bind="pictureLoader.heightPicture"></span>
                </div>-->
            </div>
        </div>
    </div>
</div>
<div class="picture-loader-loading" ng-if="pictureLoader.isShowedProgress">
    <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
         width="50px" height="50px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
    <path opacity="0.2" fill="#3797eb" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
            s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
            c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z" />



    <path fill="#3797eb" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
            C22.32,8.481,24.301,9.057,26.013,10.047z">
    <animateTransform attributeType="xml"
                      attributeName="transform"
                      type="rotate"
                      from="0 20 20"
                      to="360 20 20"
                      dur="0.5s"
                      repeatCount="indefinite" />



    </path>
  </svg>
</div>