<div>
    <div data-tabs class="tabs tabs-horizontal tabs-lp--minimalistic">
        <ul class="tabs-headers row center-xs start-sm">
            <li id="tabHeaderFront" class="tabs-header-item tabs-lp__header-item--minimalistic-slim col-xs-12 col-sm-slim" data-tab-header="" data-ng-class="{'tabs-header-active block-constructor-settings-link' : tabHeader.selected}">
                <span class="tabs-header-item-link" data-ng-click="tabs.change(tabHeader)" data-ng-class="{'link-dotted-invert' : !tabHeader.selected, 'cs-l-2 link-dotted-invert link-dotted-none' : tabHeader.selected}">
                    Внешний вид
                </span>
            </li>
            <li id="tabHeaderCategories" class="tabs-header-item tabs-lp__header-item--minimalistic-slim col-xs-12 col-sm-slim" data-tab-header="" data-ng-class="{'tabs-header-active block-constructor-settings-link' : tabHeader.selected}">
                <span class="tabs-header-item-link" data-ng-click="tabs.change(tabHeader)" data-ng-class="{'link-dotted-invert' : !tabHeader.selected, 'cs-l-2 link-dotted-invert link-dotted-none' : tabHeader.selected}">
                    Категории
                </span>
            </li>
            <li ng-if="$ctrl.modalData.settings.form" id="tabForm" class="tabs-header-item tabs-lp__header-item--minimalistic-slim col-xs-12 col-sm-slim" data-tab-header="" data-ng-class="{'tabs-header-active block-constructor-settings-link' : tabHeader.selected}">
                <span class="tabs-header-item-link" data-ng-click="tabs.change(tabHeader)" data-ng-class="{'link-dotted-invert' : !tabHeader.selected, 'cs-l-2 link-dotted-invert link-dotted-none' : tabHeader.selected}">
                    Форма
                    <svg ng-if="$ctrl.formSettings.$invalid && $ctrl.formSettings.$dirty" class="block-constructor-icon-error"
                         xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 512 512" width="16px" height="16px">
                        <path d="M507.494,426.066L282.864,53.537c-5.677-9.415-15.87-15.172-26.865-15.172c-10.995,0-21.188,5.756-26.865,15.172
                              L4.506,426.066c-5.842,9.689-6.015,21.774-0.451,31.625c5.564,9.852,16.001,15.944,27.315,15.944h449.259
                              c11.314,0,21.751-6.093,27.315-15.944C513.508,447.839,513.336,435.755,507.494,426.066z M256.167,167.227
                              c12.901,0,23.817,7.278,23.817,20.178c0,39.363-4.631,95.929-4.631,135.292c0,10.255-11.247,14.554-19.186,14.554
                              c-10.584,0-19.516-4.3-19.516-14.554c0-39.363-4.63-95.929-4.63-135.292C232.021,174.505,242.605,167.227,256.167,167.227z
                              M256.498,411.018c-14.554,0-25.471-11.908-25.471-25.47c0-13.893,10.916-25.47,25.471-25.47c13.562,0,25.14,11.577,25.14,25.47
                              C281.638,399.11,270.06,411.018,256.498,411.018z" fill="currentColor" />
                    </svg>
                </span>
            </li>
            <li ng-show="$ctrl.modalData.settings.show_filter != null" id="tabHeaderFilter" class="tabs-header-item tabs-lp__header-item--minimalistic-slim col-xs-12 col-sm-slim ng-cloack" data-tab-header="" data-ng-class="{'tabs-header-active block-constructor-settings-link' : tabHeader.selected}">
                <span class="tabs-header-item-link" data-ng-click="tabs.change(tabHeader)" data-ng-class="{'link-dotted-invert' : !tabHeader.selected, 'cs-l-2 link-dotted-invert link-dotted-none' : tabHeader.selected}">
                    Фильтр
                </span>
            </li>
        </ul>
        <div class="tabs-content">
            <div class="tab-content" data-tab-content="tabHeaderFront" data-ng-class="{'tab-content-active': tabContent.header.selected}">
                <div class="row">
                    <div class="col-xs-12 col-sm-6">
                        <div class="blocks-constructor-settings-col">
                            <div ng-include="$ctrl.modalData.generalOptionsTemplateUrl"></div>

                            <div class="blocks-constructor-row">
                                <label class="blocks-constructor-label" data-e2e="ShowPrice">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.show_price" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Отображать цену
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_buybutton != null">
                                <label class="blocks-constructor-label" data-e2e="ShowBtn">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.show_buybutton" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Отображать кнопку "{{$ctrl.modalData.settings.button.text}}" в списке
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row">
                                <label class="blocks-constructor-label" data-e2e="ShowBtnQuickview">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.show_button_quickview" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Отображать кнопку "{{$ctrl.modalData.settings.button.text}}" при быстром просмотре
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row">
                                <label class="blocks-constructor-label" data-e2e="HideShipping">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.hide_shipping" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Скрывать доставку на оформлении заказа
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_description != null">
                                <label class="blocks-constructor-label" data-e2e="ShowDescription">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.show_description" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Отображать краткое описание
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.quickview != null">
                                <label class="blocks-constructor-label" data-e2e="OnQuickView">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.quickview" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Включить быстрый просмотр
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.quickview != null && $ctrl.modalData.settings.quickview">
                                <div class="blocks-constructor-row__name">Описание товара в быстром просмотре</div>
                                <div>
                                    <div class="blocks-constructor-select">
                                        <select ng-model="$ctrl.modalData.settings.quickview_description"
                                                ng-options="item.value as item.name for item in $ctrl.modalData.settings.descriptionOptions"></select>
                                    </div>
                                </div>
                            </div>
                            <div class="blocks-constructor-row">
                                <div class="blocks-constructor-row__name">
                                    Колличество товаров отображаемых за раз
                                </div>
                                <input class="blocks-constructor-input" data-e2e="CountProduct" type="number" data-ng-model="$ctrl.modalData.settings.products_count" />
                            </div>

                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_button != null">
                                <label class="blocks-constructor-label" data-e2e="ShowBtn">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.show_button" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Отображать кнопку "{{$ctrl.modalData.settings.button.text}}" в списке
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row">
                                <div class="blocks-constructor-row__name">
                                    Текст кнопки
                                </div>
                                <input class="blocks-constructor-input" data-e2e="ButtonText" type="text" data-ng-model="$ctrl.modalData.settings.button.text" />
                            </div>

                            <div class="blocks-constructor-row">
                                <div class="blocks-constructor-row__name">
                                    Товаров в строке
                                </div>
                                <input class="blocks-constructor-input" data-e2e="CountProductInRow" type="number" data-ng-model="$ctrl.modalData.settings.number_products_in_row" />
                            </div>

                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.view_mode_categories != null">
                                <div class="blocks-constructor-row__name">Отображение названий категорий</div>
                                <div>
                                    <div class="blocks-constructor-select">
                                        <select ng-model="$ctrl.modalData.settings.view_mode_categories"
                                                ng-options="item.value as item.name for item in $ctrl.modalData.settings.view_mode_categories_options"></select>
                                    </div>
                                </div>
                            </div>                            
                            
                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.hover_animation != null">
                                <div class="blocks-constructor-row__name">Эффекты при наведении на фотографию</div>
                                <div>
                                    <div class="blocks-constructor-select">
                                        <select ng-model="$ctrl.modalData.settings.hover_animation"
                                                ng-options="item.value as item.name for item in $ctrl.modalData.settings.hover_animation_options"></select>
                                    </div>
                                </div>
                            </div>

                            <div class="blocks-constructor-row">
                                <block-constructor-upsell value="$ctrl.modalData.settings.button.action_upsell_lp_id" items="$ctrl.modalData.data.Landings"></block-constructor-upsell>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <div class="blocks-constructor-settings-col--alt">
                            <div ng-include="$ctrl.modalData.generalRightOptionsTemplateUrl"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" data-tab-content="tabHeaderCategories" data-ng-class="{'tab-content-active': tabContent.header.selected}">
                <div class="col-xs-12 blocks-constructor-settings-col--alt">
                    <div class="blocks-constructor-row" ng-controller="CategorySelectorCtrl as category">
                        <lp-grid lp-id="$ctrl.modalData.landingpageId"
                                 block-id="$ctrl.modalData.blockId"
                                 source="$ctrl.modalData.settings.categories"
                                 data-e2e="ProductGrid">
                            <lp-grid-column type="text" field="Name" classes="'col-xs'" title="Название"></lp-grid-column>
                            <lp-grid-column type="template" classes="'col-xs-2'" title="Активность">
                                <div>
                                    {{lpGridRow.entity.Enabled ? 'Вкл.' : 'Выкл.'}}
                                </div>
                            </lp-grid-column>
                            <lp-grid-column type="template" classes="'col-xs-1'" title="Ссылка">
                                <a ng-href="./adminv2/category/edit/{{lpGridRow.entity.CategoryId}}" target="_blank" data-e2e="LinkOnCategory" title="Ссылка на категорию" class="blocks-constructor-link">
                                    <svg aria-hidden="true" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                        <path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path>
                                    </svg>
                                </a>
                            </lp-grid-column>
                            <lp-grid-add>
                                <button class="lp-grid-add" data-e2e="addCategory" ng-click="$ctrl.addCategory()">
                                    <svg class="lp-grid-add__icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                        <rect fill="currentColor" width="24" height="24" rx="12"></rect>
                                        <path fill="#ffffff" d="M12.5,11.5 L17,11.5 L17,12.5 L12.5,12.5 L12.5,17 L11.5,17 L11.5,12.5 L7,12.5 L7,11.5 L11.5,11.5 L11.5,7 L12.5,7 L12.5,11.5 Z"></path>
                                    </svg>
                                    Добавить новый элемент
                                </button>
                            </lp-grid-add>
                        </lp-grid>
                    </div>
                </div>
            </div>

            <div ng-if="$ctrl.modalData.settings.form" class="tab-content" data-tab-content="tabForm" data-ng-class="{'tab-content-active': tabContent.header.selected}">
                <blocks-constructor-form-settings common-options="$ctrl.modalData.data" form-settings="$ctrl.formSettings"></blocks-constructor-form-settings>
            </div>

            <div ng-show="$ctrl.modalData.settings.show_filter != null" class="tab-content" data-tab-content="tabHeaderFilter" data-ng-class="{'tab-content-active': tabContent.header.selected}">
                <div class="row">
                    <div class="col-xs-12 col-sm-6">
                        <div class="blocks-constructor-settings-col">
                            <div class="blocks-constructor-row" ng-show="$ctrl.modalData.settings.show_filter != null">
                                <label class="blocks-constructor-label" data-e2e="ShowFilter">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.show_filter" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Отображать фильтр
                                    </span>
                                </label>
                            </div>

                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_filter">
                                <label class="blocks-constructor-label">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.hide_filterByPrice" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Скрыть фильтр по цене
                                    </span>
                                </label>
                            </div>
                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_filter">
                                <label class="blocks-constructor-label">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.hide_filterByBrand" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Скрыть фильтр по производителю
                                    </span>
                                </label>
                            </div>
                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_filter">
                                <label class="blocks-constructor-label">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.hide_filterByColor" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Скрыть фильтр по цвету
                                    </span>
                                </label>
                            </div>
                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_filter">
                                <label class="blocks-constructor-label">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.hide_filterBySize" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Скрыть фильтр по размеру
                                    </span>
                                </label>
                            </div>
                            <div class="blocks-constructor-row" ng-if="$ctrl.modalData.settings.show_filter">
                                <label class="blocks-constructor-label">
                                    <input class="blocks-constructor-checkbox-native" type="checkbox" ng-model="$ctrl.modalData.settings.hide_filterByProperty" />
                                    <span class="blocks-constructor-checkbox"></span>
                                    <span class="blocks-constructor-label-text">
                                        Скрыть фильтр по свойствам
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
