@using AdvantShop.Helpers;
@using System;

@model BlockModel
@{
    string bgColorPassed = Model.Block.TryGetSetting("background_color_passed");
    long percentPassed = Model.Block.TryGetSetting("percent_passed");
}

<div class="container-fluid">
    <div class="lp-container">
        <div class="row center-xs">
            <div class="@Model.Block.GetWidthInColumnsAsClasses()">
                <div class="text-center">
                    @Html.BlockHeader(Model)
                </div>
                <div class="progressbar">
                    <div class="progressbar__marker" data-e2e="ContentProgressbar" style="left:@(percentPassed)%">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 512 512" xml:space="preserve" width="32" height="32">
                        <path d="M301.792,131.125l-67.125,67.125l-24.458-24.458c-4.167-4.167-10.917-4.167-15.083,0c-4.167,4.167-4.167,10.917,0,15.083     l32,32c2.083,2.083,4.813,3.125,7.542,3.125c2.729,0,5.458-1.042,7.542-3.125l74.667-74.667c4.167-4.167,4.167-10.917,0-15.083     S305.958,126.958,301.792,131.125z" fill="@bgColorPassed" />
                        <path d="M256,0C161.896,0,85.333,76.563,85.333,170.667c0,28.25,7.063,56.26,20.49,81.104L246.666,506.5     c1.875,3.396,5.448,5.5,9.334,5.5s7.458-2.104,9.333-5.5l140.896-254.813c13.375-24.76,20.438-52.771,20.438-81.021     C426.667,76.563,350.104,0,256,0z M256,288c-64.698,0-117.333-52.635-117.333-117.333S191.302,53.333,256,53.333     s117.333,52.635,117.333,117.333S320.698,288,256,288z" fill="@bgColorPassed" />
                        </svg>
                    </div>
                    <div class="progressbar__track color-scheme__bg--alt" data-e2e="ProgressbarAll">
                        <div class="progressbar__track--passed" data-e2e="ProgressbarPassed" style="background-color:@bgColorPassed; width: @(percentPassed)%"></div>
                    </div>
                </div>
                <div class="text-center progressbar__step lp-h3--color" data-e2e="ProgressbarTextBlock">@Html.SubBlock(Model, "text")</div>
            </div>
        </div>
    </div>
</div>

