@using AdvantShop.Track
@model AdvantShop.Web.Admin.Models.Home.CongratulationsDashboardModel

<div class="row congrat-block" ng-init="congratulationsDashboard.initOld()">
    <div class="col-xs">
        <div class="row center-xs">
            <div class="col-xs-11">
                <div class="congrat-title text-center">
                    <h2>@T("Admin.Home.Congratulations.Congratulations")</h2>
                </div>
                <div class="text-center m-b-md m-t-lg congrat-subtitle">
                    @T("Admin.Home.Congratulations.FewSteps")
                </div>
                <div class="text-right m-b-sm">
                    <a ng-click="congratulationsDashboard.skipDashboard()">@T("Admin.Home.Congratulations.SkipWizard")</a>
                </div>

                @*@if (Model.FirstVisit)
                    {
                        <figure class="congrat__figure" data-ng-hide="true">
                            <a class="congrat__link--video" href="http://redirect.advantshop.net/?permanent=congratulationsdashboard-video0" magnific-popup magnific-popup-options="congratulationsDashboard.magnificPopupOptions" id="lnkHelloVideo">
                            </a>
                            <div class="mfp-tpl" hidden>
                                <div class="congrat-modal__tpl">
                                    <div>Welcome-видео</div>
                                    <div>
                                        Вступи в сообщество ECOMHackers: <a href="https://www.facebook.com/groups/ecomhacking/" target="_blank" ng-click="congratulationsDashboard.trackEvent('@ETrackEvent.Dashboard_ClickEcomhackingLink')">https://www.facebook.com/groups/ecomhacking/</a>
                                    </div>
                                </div>
                            </div>
                        </figure>
                    }*@

                <div ng-repeat="step in congratulationsDashboard.steps.Steps track by $index" class="ng-cloak">

                    <div class="congrat__row" ng-class="{'congrat__row--success': step.Done }">
                        <figure class="congrat__figure">
                            <a class="congrat__link--video" href="{{step.VideoSrc}}" magnific-popup magnific-popup-options="congratulationsDashboard.magnificPopupOptions"
                               ng-click="congratulationsDashboard.trackEvent(step.OpenVideoEvent)">
                                <img ng-src="{{step.VideoPreviewSrc}}" alt="" />
                            </a>
                            <div class="mfp-tpl" step-index="{{$index}}" hidden>
                                <div class="congrat-modal__tpl">
                                    <div ng-bind-html="step.VideoDescription">
                                    </div>
                                    <a href="{{step.ButtonActionLink}}" target="_blank" class="btn btn-sm btn-success" ng-click="congratulationsDashboard.trackEvent(step.VideoButtonEvent)">
                                        <span class="fa fa-plus"></span>
                                        {{step.ButtonText}}
                                    </a>
                                </div>
                            </div>
                        </figure>
                        <div class="congrat__text">
                            <div ng-bind-html="step.Description"></div>
                            <div class="congrat__button">
                                <div>
                                    <a href="{{step.ButtonActionLink}}" target="_blank" class="btn btn-sm btn-success" ng-click="congratulationsDashboard.trackEvent(step.ButtonEvent)">
                                        <span class="fa fa-plus"></span>
                                        {{step.ButtonText}}
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="congrat__button">
                            <svg ng-if="step.Done" class="ng-cloak" version="1.1" height="50" width="50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 426.667 426.667">
                                <path style="fill:#4caf50;" d="M213.333,0C95.518,0,0,95.514,0,213.333s95.518,213.333,213.333,213.333
	                                c117.828,0,213.333-95.514,213.333-213.333S331.157,0,213.333,0z M174.199,322.918l-93.935-93.931l31.309-31.309l62.626,62.622
	                                l140.894-140.898l31.309,31.309L174.199,322.918z" />
                            </svg>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    @if (Model.ActionText.IsNotEmpty())
    {
        <div class="col-xs-3 col-wl-2">
            @Html.Raw(Model.ActionText)
        </div>
    }
</div>