<div id="vortex">
    <h2 class="m-b-md">{{'Admin.Js.Vortex.SalesFunnel'|translate}}</h2>

    <div class="vortex-line">
        <div class="vortex-title">{{'Admin.Js.Vortex.AllUsers'|translate}}</div>
        <div class="vortex-count-percent">{{$ctrl.vortex.TotalUsersCount}} ({{$ctrl.vortex.TotalUsersCountPercent}}%)</div>
        <div class="vortex-bar-outer">
            <div class="vortex-bar-inner" style="width: {{$ctrl.vortex.TotalUsersCountPercent}}%;"></div>
        </div>
    </div>

    <div class="vortex-line">
        <div class="vortex-title">{{'Admin.Js.Vortex.AddToCart'|translate}}</div>
        <div class="vortex-count-percent">{{$ctrl.vortex.AddtoCartEvents}} ({{$ctrl.vortex.AddtoCartEventsPercent}}%)</div>
        <div class="vortex-bar-outer">
            <div class="vortex-bar-inner" style="width: {{$ctrl.vortex.AddtoCartEventsPercent}}%;"></div>
        </div>
    </div>

    <div class="vortex-line">
        <div class="vortex-title">{{'Admin.Js.Vortex.Ordering'|translate}}</div>
        <div class="vortex-count-percent">{{$ctrl.vortex.TotalOrdersCount}} ({{$ctrl.vortex.TotalOrdersCountPercent}}%)</div>
        <div class="vortex-bar-outer">
            <div class="vortex-bar-inner" style="width: {{$ctrl.vortex.TotalOrdersCountPercent}}%;"></div>
        </div>
    </div>

    <div class="vortex-line">
        <div class="vortex-title">{{'Admin.Js.Vortex.OrderPaid'|translate}}</div>
        <div class="vortex-count-percent">{{$ctrl.vortex.PaiedOrdersCount}} ({{$ctrl.vortex.PaiedOrdersCountPercent}}%)</div>
        <div class="vortex-bar-outer">
            <div class="vortex-bar-inner" style="width: {{$ctrl.vortex.PaiedOrdersCountPercent}}%;"></div>
        </div>
    </div>

    <div class="vortex-line">
        <div class="vortex-title">{{'Admin.Js.Vortex.ExecutedOrders'|translate}}</div>
        <div class="vortex-count-percent">{{$ctrl.vortex.ComletedOrdersCount}} ({{$ctrl.vortex.ComletedOrdersCountPercent}}%)</div>
        <div class="vortex-bar-outer">
            <div class="vortex-bar-inner" style="width: {{$ctrl.vortex.ComletedOrdersCountPercent}}% ; "></div>
        </div>
    </div>

    <div ng-if="$ctrl.vortex.Error != null" class="m-t m-b-xs"><b>{{$ctrl.vortex.Error}}</b></div>

    <div ng-if="$ctrl.vortex.TotalUsersCountPercent == '0'" class="m-t-xs m-b">
        {{'Admin.Js.Vortex.FunnelBuiltOn'|translate}} <a target="_blank" href="http://www.advantshop.net/help/pages/google-analytics-api"> {{'Admin.Js.Vortex.InstructionsForConnecting'|translate}}</a>
    </div>

    <div ng-if="$ctrl.vortex.Sources != null && $ctrl.vortex.Sources.length > 0" class="vortex-sources m-t-md">

        <h2 class="m-b-md">{{'Admin.Js.Vortex.SourcesOfOrders'|translate}}</h2>

        <table class="table table-striped">
            <tr class="header">
                <th>{{'Admin.Js.Vortex.Source'|translate}}</th>
                <th>{{'Admin.Js.Vortex.Campaign'|translate}}</th>
                <th>{{'Admin.Js.Vortex.NumberOfOrders'|translate}}</th>
            </tr>
            <tr ng-repeat="item in $ctrl.vortex.Sources track by $index">
                <td>{{item.Source}}</td>
                <td>{{item.Medium}}</td>
                <td>{{item.Transactions}}</td>
            </tr>
        </table>
    </div>
</div>